{% extends 'base.html' %}  
{% load static %}

{% block title %}Actions Page{% endblock %}

{% block content %}
<link rel="stylesheet" type="text/css" href="{% static 'styles/style.css' %}">
<link rel="stylesheet" href="{% static 'styles/actions.css' %}"> 
<style>
    /* Override the overflow-y for this page */
    html, body {
        overflow-y: auto !important;
    }
</style>

<div class="actions-page-container content">
    <div class="profile-summary">
        <div class="profile-image">
            <img src="{% if user.profile.picture %}{{ user.profile.picture.url }}{% else %}{% static 'images/default_profile_image.jpg' %}{% endif %}" alt="Profile Picture" class="profile-image">
        </div>
        <div class="profile-info">
            <h2>{{ user.profile.name }}</h2>
            <p>{{ user.profile.points }} Points Earned This Week</p>
            <p>Streak Status: {{ user.profile.streak_status }} Days</p>
            <p>Streak Bonus: {{ user.profile.streak_bonus }}x</p>
        </div>
    </div>

    <!-- Daily Progress Section -->
    <div class="daily-progress content">
        <h3>Daily Progress</h3>
        <div class="progress-bar">
            <!-- <div class="progress-bar-fill" style="width: {{ daily_progress_percentage }}%;"></div> --> 
        </div>

        <!-- Daily Tasks List -->
        <div class="tasks-list">
            <h4>Daily Tasks</h4>
            {% for task in daily_tasks_different %}
                <div class="task-item {{ task.status }}" id="daily-diff">
                    <p>{{ task.name }}</p>
                    <div class="points">
                        <span>{{ task.points }} points </span>
                        <span> {{ task.status }}</span>
                    </div>
                </div>
            {% endfor %}
            {% for task in daily_tasks_same %}
                <div class="task-item {{ task.status }}" id="daily-same">
                    <p>{{ task.name }}</p>
                    <div class="points">
                        <span>{{ task.points }} points </span>
                        <span>{{ task.status }}</span>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>

    <!-- Calendar and Streaks Section -->
    <div class="calendar-container content">
        <h3>Streaks</h3>
    </div>

    <!-- Weekly and Referral Tasks Section -->
    <div class="extra-tasks content">
        <h4>Weekly Task</h4>
        <div class="task-item {{ weekly_task.status }}" id="weekly">
            <p>{{ weekly_task.name }}</p>
            <div class="points">
                <span>{{ weekly_task.points }} points</span>
                <span>{{ weekly_task.status }}</span>
            </div>
        </div>

        <h4>Referral</h4>
        <div class="task-item {{ referral_task.status }}" id="refer">
            <p>{{ referral_task.name }}</p>
            <div class="points">
                <span>{{ referral_task.points }} points </span> 
                <span> {{ referral_task.status }}</span>
            </div>
        </div>
    </div>
</div>
{% endblock %}

