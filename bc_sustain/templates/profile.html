{% extends 'base.html' %}
{% load widget_tweaks %}

{% block title %}Profile Page{% endblock %}

{% block content %}

<style>
    form {
        height: 100%;
        width: 100%;
    }

    .content-container {
        height: 100%;
        width: 100%;
        display: grid;
        grid-template-columns: 1fr 1fr 1fr;
        grid-template-rows: 1fr 1fr 1fr;
        margin: 20px;
        gap: 30px 20px;
    }

    .pfp-container {
        grid-column: 1;
        grid-row: 1;
        background-color: #E8F4EA;
        border-radius: 20px;
        box-shadow: 0px 3px rgb(0, 0, 0, 0.2);
        display: flex;
        flex-direction: column;
        justify-content: space-around;
        align-items: center;
    }

    .pfp-container .pfp {
        height: 200px;
        width: 200px;
        border: 1px solid gray;
        border-radius: 50%;
    }

    .pfp-container .form-control-file {
        display: none;
    }
    .pfp-container button {
        color: gray;
        font-size: 20px;
        border-radius: 5px;
        border: 1px solid #D9D9D9;
        background-color: white;
        box-shadow: 0px 3px rgb(0, 0, 0, 0.2);
        padding: 5px 20px;
    }

    .info-container {
        grid-column: 2/4;
        grid-row: 1/3;
        padding: 10px;
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 10px;
        justify-items: start;
        align-content: stretch;
        align-items: center;
        background-color: #F5F5F5;
        border-radius: 20px;
        padding: 20px 40px;
        box-shadow: 0px 3px rgb(0, 0, 0, 0.2);
    }

    h2 {
        font-size: 30px;
        margin: 0;
    }

    .mb-3 label {
        font-size: 23px;
        font-weight: bold;
        display: block;
        padding-bottom: 10px;
        color: #204136
    }

    .mb-3 .form-control {
        color: gray;
        font-size: 20px;
        border-radius: 5px;
        border: 1px solid #D9D9D9;
        box-shadow: 0px 3px rgb(0, 0, 0, 0.2);
        padding: 5px;
    }

    .mb-3 .form-select {
        color: gray;
        font-size: 20px;
        border-radius: 5px;
        border: 1px solid #D9D9D9;
        box-shadow: 0px 3px rgb(0, 0, 0, 0.2);
        padding: 5px 10px;
    }

    .notification-container {
        grid-column: 1;
        grid-row: 2;
        background-color: #F5F5F5;
        border-radius: 20px;
        box-shadow: 0px 3px rgb(0, 0, 0, 0.2);
        padding: 20px 40px;
    }

    .bio-container {
        grid-column: 1/3;
        grid-row: 3;
        background-color: #F5F5F5;
        border-radius: 20px;
        box-shadow: 0px 3px rgb(0, 0, 0, 0.2);
        padding: 20px 40px;
    }

    .submit-container {
        grid-column: 3;
        grid-row: 3;
    }

</style>

<form method="POST" enctype="multipart/form-data">
    {% csrf_token %}

    <div class="content-container">
        <div class="pfp-container">
            <div class="pfp">
                <!-- placehoder for profile picture for now -->
                 <img src="{{ profile.profile_image.url }}"  alt="Profile Picture">
            </div>
            <div class="mb-3">
                <label for="id_picture">
                    <button type="button" class="upload-btn" onclick="document.getElementById('id_picture').click();">
                        Edit Photo
                    </button>
                </label>
                
                {{ form.picture|add_class:"form-control-file" }}
            </div>
        </div>
    
        <div class="info-container">
            <h2 style="grid-column: 1/3; grid-row: 1;">Personal Information</h2>
            <div class="mb-3">
                <label for="id_name">Name:</label>
                {% render_field form.name class="form-control" placeholder="First Last" %}
            </div>
    
            <div class="mb-3">
                <label for="id_username">Username:</label>
                {{ form.username|add_class:"form-control" }}
            </div>
    
            <div class="mb-3">
                <label for="id_bc_email">BC Email:</label>
                {{ form.bc_email|add_class:"form-control" }}
            </div>
    
            <div class="mb-3">
                <label for="id_school">School:</label>
                <select name="school" class="form-select" required>
                    <option value="" disabled selected>School</option>  <!-- Placeholder -->
                    {% for value, label in form.school.field.choices %}
                        <option value="{{ value }}" {% if form.school.value == value %}selected{% endif %}>
                            {{ label }}
                        </option>
                    {% endfor %}
                </select>
            </div>
        
            <div class="mb-3">
                <label for="id_major1">Primary Major:</label>
                {% render_field form.major1 class="form-control" placeholder="major" %}
            </div>
        
            <div class="mb-3">
                <label for="id_major2">Secondary Major (Optional):</label>
                {% render_field form.major2 class="form-control" placeholder="(optional)" %}
            </div>
        
            <div class="mb-3">
                <label for="id_minor1">Minor (Optional):</label>
                {% render_field form.minor1 class="form-control" placeholder="(optional)" %}
            </div>
        
            <div class="mb-3">
                <label for="id_minor2">Additional Minor (Optional):</label>
                {% render_field form.minor2 class="form-control" placeholder="(optional)" %}
            </div>
        
            <div class="mb-3">
                <label for="id_graduation_year">Graduation Year:</label>
                {% render_field form.graduation_year class="form-select" %}
            </div>
        </div>

        <div class="notification-container">
            <!-- placeholder for notification container -->
            <h2>Notifications</h2>
        </div>

        <div class="bio-container">
            <!-- placerholder for bio container -->
            <h2>Bio</h2>
        </div>

        <div class="submit-container">
            <button type="submit" name="save" class="btn btn-primary mt-3">Save Profile</button>
        </div>
    </div>


</form>
{% endblock %}
